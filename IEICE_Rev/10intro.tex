\section{Introduction}

%intro 
A pattern is a string consisting of constant symbols and variable symbols \cite{Angluin1980a}.
For example, we consider constant symbols $a,b,c$ and variable symbols $x,y$,  then $axbxcy$ is a pattern.
$\Pat$ denotes the set of all patterns.
For a pattern $p\in \Pat$, {\it the pattern language generated by $p$}, denoted by $L(p)$, or simply called a pattern language, is the set of all strings obtained by replacing all variable symbols with constant symbol strings, where the same variable symbol is replaced by the same constant string.
For example the pattern language $L(axbxcy)$ generated by the above pattern $axbxcy$ denotes $\{ aubucw \mid \mbox{  u and w are constant strings that are not $\varepsilon$} \}$.
A pattern where each variable symbol appears at most once is called a {\it regular pattern}. 
For example, a pattern $axbxcy$ is not a regular pattern, but a pattern $axbzcy$ with variable symbols $x,y,z$ is a regular pattern.
$\RPat$ denotes the set of all regular patterns.
If a pattern $p\in \Pat$ is obtained from a pattern $q\in\Pat$ by replacing variable symbols in $q$ with patterns, we say that $q$ is a {\it generalization} of $p$ and denote this by $p\preceq q$.
For example, a pattern $q=axz$ is a generalization of a pattern $p=axbxcy$, because $p$ is obtained from $q$ by replacing the variable $z$ in $q$ with a pattern $bxcy$.
So we write $p\preceq q$.
For patterns $p,q\in \Pat$, it is obvious that $p\preceq q$ implies $L(p)\subseteq L(q)$.
But, the converse, that is, the statement that  $L(p)\subseteq L(q)$ implies $p\preceq q$ does not always hold.
With respect to this statement, Mukouchi\cite{Mukouchi1991} showed that if the number of constant symbols is greater than or equal to 3, for any regular pattern $p,q\in \RPat$, $L(p)\subseteq L(q)$ implies $p\preceq q$.

We denote by $\RPatplus$ the class of all non-empty finite sets of regular patterns and
by $\RPatkei$ the class of at most $k~(k\geq 2)$ regular patterns.
For a set of regular patterns $P\in\RPatkei$ we define $L(P)=\bigcup_{p\in P}L(p)$ and consider the class $\RPatL^{k}$ of regular pattern languages of $\RPatkei$, where $\RPatL^{k} = \{L(P) \mid P\in \RPatkei\}$.
Let $P,Q\in \RPatkei$ and $Q= \{ q_{1}, \ldots, q_{k} \}$.
We denote by $P\sqsubseteq Q$ that for any regular pattern $p\in P$ there exists a regular pattern $q_{i}$ such that $p\preceq q_{i}$ holds.
From definition, it is obvious that $P \sqsubseteq Q$ implies $L(P)\subseteq L(Q)$.
%
Then Sato et al.\cite{Sato1} shows that 
if $k \ge 3$ and the number of constant symbols is $2k-1$ then 
the finite set $S_2(P)$ of constant symbols obtained from $P\in \RPatkei$ by substituting variable symbols with constant strings of at most 2 length is a characteristic set of $L(P)$, 
that is, for any regular pattern language $L'\in \RPatL^{k}$, $S_2(P) \subseteq L'$ implies $L(P)\subseteq L'$.
Thus they shows that the following three statements: (i) $S_2(P) \subseteq L(Q)$，(ii) $P\sqsubseteq Q$ and (iii) $L(P)\subseteq L(Q)$ are equivalent. 
%
But the Lemma14 \cite{Sato1}, which is used in this results, contains an error.
In this paper we correct this lemma and give a correct proof showing the equivalence of the three statements shown in \cite{Sato1}.
Sato et al.\cite{Sato1} shows that $\RPatkei$ has compactness with respect to containment if the number of constant symbols is greater than or equal to $2k-1$.
On the contrary to this result, we show that the set $S_2(P)$ obtained from a set $P$ in the class $\NAVRPkei$ of at most $k~(k\ge 1)$ regular patterns having non-adjacent variables is a characteristic set of $L(P)$.
Further, we show that if the number of constant symbols is greater than or equal to $k+2$ then $\NAVRPkei$ has compactness with respect to containment.
In Table \ref{table1} we summarize the all results in this paper.


\begin{table}[hbt]
\begin{center}
\vspace{-0.4cm}
\caption{The conditions of the number of constant symbols with respect to the compactness of inclusion}
\label{table1}
\begin{tabular}{llll}
\hline
\multicolumn{1}{|c|}{$k$}   & \multicolumn{1}{c|}{2}                            & \multicolumn{1}{c|}{$ \geqq 3$} \\ 
\hline
\hline
\multicolumn{1}{|c|}{$\RPatkei$} & \multicolumn{1}{c|}{$ \geqq 4$}                          & \multicolumn{1}{c|}{$ \geqq 2k-1$} \\ \hline
\multicolumn{1}{|c|}{$\NAVRPkei$} & \multicolumn{2}{c|}{$ \geqq k+2$} \\ \hline
%org \vspace{-1cm}
\end{tabular}
\end{center}
\end{table}

%{\color{red} 関連研究を含めて以下を膨らませる必要がある。}
%
%The results of this paper suggest efficient learning algorithms for the sets of regular patterns representing finite unions of languages and the sets of regular patterns having non-adjacent variables.
%

There are many researches dealing with pattern languages \cite{Angluin1980b,Wright1989,Sato1,Shinohara2000,Day2017,Matsumoto2020,Taketa2022}.
Arimura et al. \cite{Arimura1994} introduced a formal framework for efficiently generalizing unions of pattern languages by provided a polynomial-time algorithm for identifying the minimal set of patterns whose union encompasses a given set of positive examples.  

Takeda et al. \cite{Taketa2022} proposed a query learning algorithm that uses a deep learning model trained on a set of strings as an oracle to visualize the learned features as regular patterns.

Research on regular patterns was later extended to Elementary Formal Systems (EFS)\cite{Arikawa1992}, broadening the theoretical foundation for pattern languages. This line of work subsequently influenced studies on tree patterns \cite{Arimura1997,Suzuki2006} that generate tree languages, as well as the development of Formal Graph Systems \cite{Uchida1994}. These advancements enabled the formalization and efficient learning of more complex structured data beyond strings, facilitating applications in areas such as grammatical inference and graph-based learning.

The results of this paper suggest efficient learning algorithms for the sets of regular patterns representing finite unions of languages and the sets of regular patterns having non-adjacent variables.


This paper is organized as follows.
In Sect.2 as preparations, we give definitions of pattern languages, regular pattern languages and compactness, and then introduce the results of Sato et al.\cite{Sato1}.
In Sect.3, we show that $S_{2}(P)$ is a characteristic set of $L(P)$ in $\RPatL^{k}$ and $\RPat^{k}$ has compactness with respect to containment.
In Sect.4, we propose regular patterns having non-adjacent variables, show that $S_2(P)$ obtained from a set $P$ in $\NAVRPkei$ is a characteristic set of $L(P)$, and $\NAVRPkei$ has compactness with respect to containment.

